{% extends "admin/base.html" %}
{% load i18n static %}

{% block branding %}
  <h1 id="site-name">
    <a href="{% url 'admin:index' %}">Hospitalist Admin</a>
  </h1>
{% endblock branding %}

{% block userlinks %}
  {{ block.super }}
  {% if user.is_authenticated %}
    | <a href="{% url 'patients:notifications_list' %}">{% trans "Notifications" %}</a>
    {% if notifications_unread_count|default:0 %}
      <span class="notif-badge">{{ notifications_unread_count }}</span>
    {% endif %}
  {% endif %}
{% endblock userlinks %}

{% block extrahead %}
  {{ block.super }}
  {# Shared app styles + toast client for the admin pages #}
  <link rel="stylesheet" href="{% static 'patients/base.css' %}">
  <script defer src="{% static 'patients/notifications.js' %}"></script>

  <style>
    /* High-contrast pill for unread count in the admin header */
    .notif-badge{
      display:inline-flex; align-items:center; justify-content:center;
      min-width:18px; height:18px; padding:0 6px;
      border-radius:12px;
      font-size:12px; font-weight:600;
      background:#ffffff;
      color:#1a1a1a;
      border:1px solid rgba(0,0,0,0.15);
      margin-left:6px; vertical-align:middle;
      line-height:18px;
    }
  </style>
{% endblock extrahead %}
